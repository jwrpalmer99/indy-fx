# indyFX Shader Editor Settings (User Guide)

This guide explains the settings you see in the shader editor from a practical, user-facing perspective.

## 1) Per-Document Shader Editor (Token / Tile / Template / Region)

This is the editor you open on a specific placed object. These settings control that one effect instance.

### Basic
- `Enabled`: Turns the effect on/off without deleting your configuration.
- `Shader`: Which preset/imported shader to run.
- `Layer`: Which canvas layer the effect is rendered on. Use this to place the effect visually above/below tokens.
- `Edit Variables`: Opens variable controls for imported shaders that expose editable constants.

### Mask & Opacity
- `Gradient Mask`: Soft edge mask. Off = harder clip.
- `Gradient Fade Start`: Where soft fading begins (0 to 1, usually around `0.8`).
- `Alpha`: Final transparency multiplier for the effect.
- `Intensity`: Brightness multiplier for shader output.

### Animation & Pattern
- `Speed`: Time multiplier for animation (`1.0` = normal speed).
- `Scale`: Uniform pattern scale.
- `Scale X`: Horizontal pattern scale.
- `Scale Y`: Vertical pattern scale.
- `Shader Rotation (deg)`: Rotates shader UV/pattern.
- `Distance (units)`: Effect reach/size in scene distance units.

### Token/Tile Following
- `Scale To Token`: Keeps effect sized relative to token/tile.
- `Token Scale Multiplier`: Extra multiplier when scaling to token/tile.
- `Scale With Token Texture`: Uses source texture dimensions to influence effect scaling.
- `Rotate With Token`: Rotates effect with token/tile rotation.

### Capture Controls (Imported Shader Channels)
- `Capture Scale`: How large capture channels are relative to the effect footprint.
- `Capture Rotation (deg)`: Rotates captured channel content.
- `Capture Flip Horizontal`: Mirrors capture on X.
- `Capture Flip Vertical`: Mirrors capture on Y.

### Timing
- `Display Time (ms)`: Total lifetime. `0` means persistent.
- `Ease In (ms)`: Fade-in duration.
- `Ease Out (ms)`: Fade-out duration.

### Bloom
- `Bloom`: Enables post bloom.
- `Bloom Strength`: Bloom intensity.
- `Bloom Blur`: Blur radius.
- `Bloom Quality`: Quality/performance tradeoff.

## 2) Imported Shader Library Editor

This editor sets defaults for a shader preset itself (not just one placed instance).

### Identity
- `Shader ID`: Internal identifier (read-only).
- `Name`: Display name in library.
- `Label`: Optional UI label override.

### Default Behavior
These match most per-document settings and act as starting defaults when you apply the shader:
- `Layer`
- `Gradient Mask`
- `Gradient Fade Start`
- `Alpha`
- `Intensity`
- `Speed`
- `Bloom` + bloom options
- `Scale`, `Scale X`, `Scale Y`
- `Flip Horizontal`, `Flip Vertical`
- `Shader Rotation (deg)`
- `Distance Units`
- `Scale To Token` + its advanced options
- `Capture Scale` + capture options
- `Display Time` + timing options

### Loading & Light Conversion
- `Preload Shader`: Compiles early to reduce first-use stutter.
- `Convert to Light Source`: Uses the shader as a light animation source.
- `Use Illumination Shader`: Feed shader into illumination pass.
- `Use Background Shader`: Feed shader into background/coloration flow.
- `Light Falloff`: How bright/dim falloff is interpreted.
- `Light Background Intensity`: Background pass intensity.
- `Background Glow`: Extra glow contribution.
- `Light Coloration Intensity`: Coloration pass intensity.
- `Light Illumination Intensity`: Illumination pass intensity.

### Source Editing
- `Shader Source`: GLSL source code for the imported shader.
- `Inject Token Alpha`: Inserts helper code so shader output can follow token/tile alpha.
- `Edit Variables`: Edits supported constants (`bool`, `float`, `int`, `vec3`, `vec4`) without hand-editing GLSL.

### Preview
- `Update Preview`: Rebuilds live preview.
- `Capture Thumbnail`: Saves preview thumbnail for shader card.

## 3) Channel Settings (`iChannel0..iChannel3`)

Each channel card controls one shader input texture.

### Channel Type
- `Auto`: Let importer/runtime choose a reasonable input.
- `Scene capture (clipped)`: Captured scene texture.
- `Token/Tile image (captured)`: Captured target image texture.
- `Black/White noise`: Procedural grayscale noise texture.
- `RGB noise`: Procedural color noise texture.
- `Custom image/video`: File path texture input.
- `Cubemap (2D atlas)`: 2D atlas interpreted as cube map layout.
- `Volume 3D (2D atlas)`: 2D atlas interpreted as 3D volume slices.
- `ShaderToy buffer code`: Channel is generated by buffer-pass shader code.
- `White`: Solid white texture.
- `Empty (transparent)`: RGBA zero texture.
- `None (black)`: Solid black texture.

### Per-Channel Sampling
- `Image/Video Path`: Used by image/cubemap/volume modes.
- `Buffer Source`: GLSL buffer code for buffer mode.
- `Filter`: `Default`, `Nearest`, `Linear`, `Mipmap`.
- `Wrap`: `Default`, `Repeat`, `Clamp`, `Mirror`.
- `VFlip`: Vertical UV flip.

## 4) Practical Tips

- Start with `Alpha`, `Intensity`, and `Speed` before touching advanced options.
- If an imported shader looks upside down, test `Capture Flip Vertical`.
- If a capture-based shader looks offset/rotated, verify `Capture Rotation` and token `Rotate With Token`.
- For performance, reduce capture/update FPS and capture resolution in client performance settings.
- If edges of circular (token/template shader) look too harsh, enable `Gradient Mask` and adjust `Gradient Fade Start`.
